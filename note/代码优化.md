# 代码优化

## 1、栈上分配

-常见的栈上分配的场景有给成员变量赋值、方法返回值和实例引用传递等。 

## 2、同步省略

- 在动态编译同步块的时候，JIT 编译器会借助逃逸分析来判断同步块所使用的锁对象是否只能够被一个线程访问而没有被发布到其他线程；如果没有，则 JIT 编译器在编译这个同步块的时候就会取消对这部分代码的同步，从而提高并发性和性能，这个取消同步的操作过程也叫锁消除。

## 3、分离对象或标量替换

- 标量是指一个无法再分解成更小数据的数据，Java 中原始数据类型就是标量；与之相对的，称之为聚合量，Java 中的对象就是聚合量。在 JIT 阶段，若经过逃逸分析，发现一个对象不会被外界访问，则 JIT 会将该对象分解成若干个成员变量来替换，此即为标量替换。