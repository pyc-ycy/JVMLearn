# 一、类加载器
## 1、类加载过程

- 类加载过程分为`Loading加载`、`Linking链接`和`Initialization初始化`；其中链接过程又可以细分为
`Verification验证、Preparation准备和Resolution解析`三个过程。

### 1.1 加载

- 通过类的全限定名称获取定义此类的二进制字节流，并将该字节流所代表的静态存储结构转化为运行时数据结构，并
在内存中生成一个代表此类的 `java.lang.Class对象`，该Class对象将成为访问该类在方法区中的数据的入口。
- class文件的来源可以是本地磁盘、网络和数据库等

### 1.2、链接
#### 1.2.1、验证

- 用于确保所加载的class文件的正确性——验证字节流包含的信息是否符合当前虚拟机的规范，并免对java虚拟机
造成伤害，主要有 `文件格式验证、元数据验证、字节码验证和符号引用验证`。HotSpot虚拟机的class文件都是
以 `CAFEBABE` 开头的，这个就是 Java class文件的标识符。

#### 1.2.2、准备

- 进行类成员变量的内存分配和赋予相应数据类型的默认初始值—— `零值`，此处所指的类成员变量不包括 `final`
修饰的 static 变量，因为这种类型的变量会在编译时就进行分配，而在此时的准备阶段是进行显式初始化；此外，
也不会对实例变量进行分配和初始化，因为类变量是分配到方法区中，而实例变量会随着对象一起分配到 Java 堆中。

#### 1.2.3、解析

- 将常量池中的符号引用转为直接引用的过程，通常在 JVM 执行完初始化之后进行。符号引用是一组用于描述所引用
的目标的符号；符号引用的字面量形式明确定义在《java虚拟机规范》的CLass文件格式中；直接引用就是直接指向
目标的指针、相对偏移量或定位目标的句柄。解析动作主要针对类或接口、字段、类方法、接口方法、方法类型等，对应
着常量池中的 CONSTANT_Class_info、CONSTANT_Fieldref_info、CONSTANT_Methodref_info等。

### 1.3、初始化

- 即执行类构造器 `<clinit>()` 方法的过程，该方法无需开发者手动定义，会由编译器根据自动收集类中的所有
类变量的赋值动作和静态代码块中的语句合并生成；该方法中的指令按语句在源文件中出现的顺序执行；该方法不同于类的
构造器——虚拟机视角下的 `<init>()构造器函数`；若当前类有父类，那么在执行当前类的 `<clinit>()`方法之前，
先执行完父类的；虚拟机必须保证一个类的 `<clinit>()` 方法在多线程下被同步加锁。

# 二、类加载器分类

- JVM 支持两种类型的类加载器，分别为引导类加载器（ `Bootstrap ClassLoader` ）和自定义类加载器（
`User-Defined ClassLoader` ）。自定义类加载器在概念上通常指开发人员自定义的一类加载器，但在java
虚拟机规范中将自定义类加载器表述为 `所有派生于抽象类ClassLoader的类加载器`.
- 最常见的类加载器，无论如何进行类型划分，主要有三个：
